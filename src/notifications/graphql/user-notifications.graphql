#import "../../publications/graphql/publication-fragments.graphql"

query Notifications($request: NotificationRequest!) {
  notifications(request: $request) {
    items {
      ... on ReactionNotification {
        id
        publication {
          ... on Post {
            ...PostFields
          }

          ... on Comment {
            ...CommentFields
          }

          ... on Quote {
            ...QuoteFields
          }
        }
        reactions {
          profile {
            id
            handle
          }
          reactions {
            reactedAt
            reaction
          }
        }
      }
      ... on CommentNotification {
        id
        comment {
          ...CommentFields
        }
      }
      ... on MirrorNotification {
        id
        mirrors {
          mirrorId
          mirroredAt
          profile {
            id
            handle
          }
        }
        publication {
          ... on Post {
            id
          }
          ... on Comment {
            id
            by {
              id
              handle
            }
          }
          ... on Quote {
            id
            by {
              id
              handle
            }
          }
        }
      }
      ... on QuoteNotification {
        id
        quote {
          ...QuoteFields
        }
      }
      ... on ActedNotification {
        id
        actions {
          profile {
            handle
            id
          }
          action {
            ... on KnownCollectOpenActionResult {
              type
            }
            ... on UnknownOpenActionResult {
              address
            }
          }
          actedAt
        }
        publication {
          ... on Post {
            id
            by {
              id
              handle
            }
          }
          ... on Comment {
            id
            by {
              id
              handle
            }
          }
          ... on Mirror {
            id
          }
        }
      }
      ... on FollowNotification {
        id
        followers {
          id
          handle
        }
      }
      ... on MentionNotification {
        id
        publication {
          ... on Post {
            id
            by {
              id
              handle
            }
          }
          ... on Comment {
            id
            by {
              id
              handle
            }
          }
          ... on Quote {
            id
            by {
              id
              handle
            }
          }
        }
      }
    }
    pageInfo {
      prev
      next
    }
  }
}
